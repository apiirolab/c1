fragment BpmnProcessComment on Comment {
  id
  date
  replyTo
  text
  user {
    name
  }
}

fragment BpmnProcessTask on BpmnTaskInstance {
  id
  dateStarted
  dateFinished
  status
  performer {
    name
  }
  task {
    name
    type
    resources {
      id
    }
  }
  performerRoles
}

fragment BpmnProcessInstance on BpmnProcessInstance {
  id
  status
  process {
    ...BpmnProcessDefinition
  }
  owner {
    name
  }
  tasks(orderBy: dateFinished_ASC) {
    ...BpmnProcessTask
  }
  log {
    date
    elementId
  }
  comments {
    ...BpmnProcessComment
  }
  data
  dateStarted
  dateFinished
}

query BpmnProcessInstanceQuery($id: String!) {
  bpmnProcessInstanceQuery(id: $id) {
    ...BpmnProcessInstance
  }
}
